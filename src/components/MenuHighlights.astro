---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';

const { items } = Astro.props as { items: CollectionEntry<'menu'>[] };
---

<section class="space-y-6">
  <div class="flex items-end justify-between gap-4">
    <div>
      <p class="uppercase tracking-[0.3em] text-xs text-primary">Featured dishes</p>
      <h2 class="text-3xl font-display mt-2">Chef's seasonal highlights</h2>
    </div>
    <a href="/menu" class="btn btn-ghost rounded-full hidden sm:inline-flex">See full menu</a>
  </div>
  <div class="grid gap-6 md:grid-cols-3">
    {items.map((item) => {
      return (
        <article class="card bg-base-100 border border-base-200">
          {item.data.image && (
            <figure class="h-48 overflow-hidden">
              <Image
                src={item.data.image}
                alt={item.data.title}
                width={400}
                height={300}
                class="h-full w-full object-cover"
                loading="lazy"
              />
            </figure>
          )}
          <div class="card-body">
            <div class="flex justify-between items-baseline gap-4">
              <h3 class="card-title text-xl font-display">{item.data.title}</h3>
              <span class="badge badge-outline badge-lg font-semibold">{item.data.price}</span>
            </div>
            <p class="text-sm text-base-content/80 leading-relaxed">{item.body}</p>
            <div class="mt-4 flex flex-wrap gap-2">
              {item.data.tags?.map((tag: string) => (
                <span class="badge badge-sm badge-primary/20 text-primary">
                  {tag}
                </span>
              ))}
            </div>
          </div>
        </article>
      );
    })}
  </div>
</section>
